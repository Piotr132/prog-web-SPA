<!DOCTYPE html>
<html>
<head>
	<title>Store form data</title>
	<meta charset="UTF-8">
</head>
<body>

	<form>
		<p>Name: <input id="username" name="username" type="text"></p>
		<p>Password: <input id="password" name="password" type="password"></p>

		<input type="button" value="Log in" onclick="login()">
	</form>
</p>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
<canvas id="myChart" width="40" height="40"></canvas>
<script>
	var ctx = document.getElementById("myChart");
	var myChart = new Chart(ctx, {
		type: 'bar',
		data: {
			labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
			datasets: [{
				label: '# of Votes',
				data: [12, 19, 3, 5, 2, 3],
				backgroundColor: [
				'rgba(255, 99, 132, 0.2)',
				'rgba(54, 162, 235, 0.2)',
				'rgba(255, 206, 86, 0.2)',
				'rgba(75, 192, 192, 0.2)',
				'rgba(153, 102, 255, 0.2)',
				'rgba(255, 159, 64, 0.2)'
				],
				borderColor: [
				'rgba(255,99,132,1)',
				'rgba(54, 162, 235, 1)',
				'rgba(255, 206, 86, 1)',
				'rgba(75, 192, 192, 1)',
				'rgba(153, 102, 255, 1)',
				'rgba(255, 159, 64, 1)'
				],
				borderWidth: 1
			}]
		},
		options: {
			scales: {
				yAxes: [{
					ticks: {
						beginAtZero:true
					}
				}]
			}
		}
	});
</script>



<script>

	function login() {
		var providedUsername = document.getElementById("username").value;
		var providedPassword = document.getElementById("password").value;				

		alert("login: " + providedUsername + " password: " + providedPassword);

					//saveToLocalStorage(providedUsername, providedPassword);
					checkIfLocalStorageIsEmpty();
				}

				function checkIfLocalStorageIsEmpty(providedUsername, providedPassword) {
					if (localStorage.getItem("username") === null && localStorage.getItem("password") === null) {
						alert("pusto w local storage");
						saveToLocalStorage(providedUsername, providedPassword);
					} else {
						//compareWithLocalStorage();										
					}
				}

				function saveToLocalStorage(providedUsername, providedPassword) {	
					
					alert("savin data: login: " + providedUsername + " password: " + providedPassword);
					
					localStorage.setItem("username", providedUsername);
					localStorage.setItem("password", providedPassword);		
				}
				
				function compareWithLocalStorage() {
					localStorageUsername = localStorage.getItem("username");
					localStoragePassword = localStorage.getItem("password");
					
					if ((localStorageUsername == providedUsername) && (localStoragePassword == providedPassword)) {
						alert("User logged in successfully");
					} else {
						alert("Incorrect credentials");
					}

				}

			</script>
		</body>
		</html>
